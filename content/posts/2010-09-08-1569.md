---
title: "2010-09-08"
date: 2010-09-08
tags: 
  - "powershell"
---

毎月、月が変わったら、先月分の撮りためた写真と動画を実家の家族におくっています。やり方は色々な物を試したのですが、結局Dropboxを実家のPCにもセットアップして、Dropboxフォルダ内に数カ月分だけ保持、同期することにしています。

でも、これだと、デジカメの性能が上がってファイルサイズが重くなってきた関係で全てのファイルを保持できなくなってきてしまいました。なので、画像のリサイズ処理も入れるようにしました。月に一度とはいえ、縮小して、コピーして…ということをするのが面倒なのでPowerShellでスクリプトを書きました。リサイズにはImagemagicを使ってます。

これで一応意図した動きをしているのですが、いかんせん写真の容量を下げても動画の容量が大きすぎる、ということがあるので、動画の再圧縮もしたいな、というところです。コマンドラインベースで変換出来るものも探せばあるだろうと思うので、探してみようと思います。もしもいいものを知っていたら教えてください！

```
#-----------------------------------------------------------------
```

```
#作業対象フォルダ(基本先月分を処理)
```

```
$targetmonth = (get-date).addmonths(-1).tostring("yyyyMM")
```
