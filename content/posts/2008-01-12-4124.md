---
title: "2008-01-12"
date: 2008-01-12
tags: 
  - "exchange"
---

Exchange Server 200xをクラスタで構築する場合にMSDTCは必要なのかどうかというお話。いるとかいらないとか諸説あります。

まず、2000および2003に関してはExchange Team Blogにあるように

- セットアップ時のみ必要
- workflowがあるなら常時必要

というのが本当のところのようです。

- [You Had Me At EHLO... : The story of the MSDTC resource and Exchange 200x cluster servers](http://msexchangeteam.com/archive/2005/01/17/354497.aspx)

開発チームが言っていることはさすがに信用できます。

さて、問題は最新のExchange Server 2007の場合。必要なくなったといううわさを聞いたのですが、それが本当かどうか。上記blog記事は投稿日が2005年なので、さすがにそのままExchange Server 2007にも適用できるとはおもえないので。

検索してみると以下のページが見つかります。

- [Re About Exchange 2007 Cluster and MSDTC service - TechNet　Forums](http://forums.microsoft.com/TechNet/ShowPost.aspx?PostID=2319457&SiteID=17)

ここではSCCに関してはExchange Server 2003と同様にMSDTCは必要であると回答されています。しかし以下では逆に必要ないと言われています。

- [You Had Me At EHLO... : Placement of the File Share Witness (FSW) on a Geographically Dispersed CCR Cluster](http://msexchangeteam.com/archive/2007/04/25/438185.aspx)

どちらを信用すべきかは微妙ですが、Exchangeの開発チームの人が言うことをとりあえず信用しておくことにしました。というわけで、Exchange Server 2007のクラスタにはMSDTCは必要ないのではないかと思います。

ただし、警告は出ますが・・・。心配性の人は必要なくてもいいからMSDTCもリソースとして登録しておくと夜ぐっすり眠れるでしょう。
