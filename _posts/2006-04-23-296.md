---
title: "2006-04-23"
date: 2006-04-23
tags: 
  - "blog"
---

今日は日曜日。お休み!・・・ですが、MovableTypeのお勉強をしてしまいました。

まずは、MovableTypeの概念を理解しようとしてみました。「Blog」の代表格とされていますが、「再構築」とか「テンプレート」とか色々と構成要素や扱い方が複雑でパッと理解できません。私は昔からWeb上で日記を書いていて(もう9年目だ・・・)手書き→ハイパー日記システム→tdiaryと使ってきたのですが、ここまで直感的に分からないシステムは初めてです（＾＾；

MovableTypeにおいては、まず「エントリ」があるようです。これはユーザーが書くもので、それには「コメント」や「トラックバック」がひもずきます。「エントリ、コメント、トラックバック」で一塊のようですね。ここには構造やデザインは含まれていません。単純にデータ、文字列のみです。

ではこの塊が複数ある場合に、それを表示するにはどのような見せ方をするか?ということで、それが「テンプレート」としてまとまっているようです。つまり、「エントリ、コメント、トラックバック」から、トップページ、RSS、アーカイブページ(月ごと)、書くエントリのページなどを生成しているわけです。データと構造の分離ですね。さらに言うと、デザイン部分はCSSで切り出されていて、JBSブログで採用されている3.2ではStyle-CatcherプラグインでCSS部分のみ簡単に入れ替えることができるようです。

さて、個別の「エントリ、コメント、トラックバック」のデータから、たとえばトップページ(index.html)を作る場合ですが、書かれているエントリの最新のものからいくつかを表示したり、月が替われば月ごとのアーカイブへのリンクができてきたりなどかなり動的に内容が変わるものになっています。これをどのように表現するのか?というところですが、そこに関しては「MovableType専用タグ」が用意されているようです。これがちょっと分かりづらいのですが、HTML内でループが実現されているような感じです。このぶぶんはASPとかPHPなどと同じような感じですね。(んーこんな説明じゃわからないと思いますが。)

で、どうやら、この「MovableType専用タグ」がバージョンが上がるたびに増えて、しかもきちんと解説がなされておらず、標準のテンプレートに入ってるくせに解説されていない・・・などといったこともあるようです。私もブログ一覧を作るだけでタグの名前がわからなくて凄く苦労しましたし・・・。

さて、この「テンプレート」ですがMovableType専用タグが使えるのが売りなのでしょうが、実はそれを使わないで、自分でHTMLタグを書くと、それがそのまま表示されたりします。ある意味、MovableTypeに頼らず、テンプレートを自分で作る(=ページを作る)ことでHTMLタグ手打ちの完全にブログっぽくないページを作ることも可能です。MovableTypeはCMSなんですね。ブログっぽい感じがいやな方は、必要最小限の部分だけMovableType専用タグを使いつつ、ほぼ自分でサイトを構成する・・・っていうのも面白いかもしれませんね。

で、MovableTypeではこのように作ったサイト構造からHTMLファイルをほぼ全て静的に吐き出しているようです。それがサイトの「再構築」ですね。確かにこのやり方の方が閲覧時の負荷は低いですが・・・。

さて、ここまで理解した上で、メインページ、ここのエントリのページ、月ごとのアーカイブページ、日ごとのページ・・・などせこせこと構築しました。面倒です・・・。でも、気がついたのですが、検索の結果のページだけは動的に生成している上に、MovableTypeシステム全体でテンプレートを共有しているらしく、個別のブログ側ではコントロールできないようです。残念。

というわけで、頭のなかではMovableTypeを使ったどんなサイトでも作れる気になりました。MovableTypeでのサイト構築を行う場合にはご相談下さい(笑

まだわからないのは、perlでMovableTypeのプラグインを作る方法と、なぜか動的なページの生成にはphpが使われているらしいのですが、その理由(なんでperlじゃないんだろう?)と、使い方あたりでしょうか。まだ気がついていない要素もあるかとは思いますが。

それにしても、業界標準って言いながら他のシステムに比べて難しすぎると思うんですが・・・（難しいのがいいのかも。)
